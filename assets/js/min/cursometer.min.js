!function(e){function t(e,t){this.x=e,this.y=t}function o(e,t){this.point=e,this.timestamp=t}function u(t){return this.each(function(){t&&e.extend(d,t);var o=e(this),u={options:t,_currSpeed:0,_updateSpeedTimeout:null,_lastMousePos:null,_currMousePos:null,_hasAttachedMousemoveEvent:!1};o.data(p,u),o.mouseenter(a),o.mouseleave(s),n.apply(this)})}function a(){var t=e(this),o=t.data(p),u=o._currMousePos,s=o._lastMousePos,n=0;if(u&&s){var i=r(u.point,s.point);n=i/(u.timestamp-s.timestamp)}var c=o._currSpeed=n;o.options.onUpdateSpeed&&o.options.onUpdateSpeed.apply(t[0],[c]),o._updateSpeedTimeout=setTimeout(function(){a.apply(t[0])},o.options.speedPollingRate)}function s(){var t=e(this),o=t.data(p);o._currSpeed=0,o._lastMousePosCalc=null,o._currMousePosCalc=null,o._hasAttachedMousemoveEvent=!1,o._updateSpeedTimeout&&clearTimeout(o._updateSpeedTimeout)}function n(){var u=e(this),a=u.data(p);a._hasAttachedMousemoveEvent||(u.one("mousemove."+p,function(e){a._currMousePos&&(a._lastMousePos=a._currMousePos);var s=e.pageX,r=e.pageY,i=new t(s,r);a._currMousePos=new o(i,(new Date).getTime()),setTimeout(function(){n.apply(u[0])},a.options.captureMouseMoveRate),a._hasAttachedMousemoveEvent=!1}),a._hasAttachedMousemoveEvent=!0)}function r(e,t){var o=0;if(e&&t){var u=Math.pow(e.x-t.x,2),a=Math.pow(e.y-t.y,2);o=Math.sqrt(u+a)}return o}function i(){return e(this).data(p)._currSpeed}var p="cursometer",c={init:u,getCurrentSpeed:i},d={updateSpeedRate:20,captureMouseMoveRate:15,onUpdateSpeed:e.noop};e.fn.cursometer=function(t){return c[t]?c[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?(e.error("Method "+t+" does not exist on jQuery.cursometer"),void 0):c.init.apply(this,arguments)}}(jQuery);